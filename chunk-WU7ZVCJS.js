import{a as h,b as L,c as $,d as G,e as b,f as H,g as y}from"./chunk-VVUKXNAT.js";import"./chunk-OVJFQLCX.js";import{$a as j,Aa as O,Ba as D,Ca as m,Da as l,Ea as o,Fa as v,Ga as g,Ha as f,Ia as x,La as s,Ma as z,Na as U,S as d,Va as F,Xa as r,Ya as M,Za as _,_a as V,a as k,ab as A,bb as W,ca as I,ha as a,kb as q,la as c,nb as u,wa as N,xa as R,za as B}from"./chunk-MVG4IMVN.js";var P=class n{_fileStore=d(b);activeModal=d($);file=u.required();onConfirm(){this._fileStore.deleteFile(this.file()),this.activeModal.close()}onCancel(){this.activeModal.close()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=c({type:n,selectors:[["app-delete-modal"]],inputs:{file:[1,"file"]},decls:9,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["variant","secondary","label","Cancel",3,"clickButton"],["variant","primary","label","Confirm",3,"clickButton"]],template:function(t,e){t&1&&(l(0,"div",0)(1,"h4",1),r(2,"Confirm file deleting"),o(),l(3,"button",2),s("click",function(){return e.activeModal.dismiss("Cross click")}),o()(),l(4,"div",3),r(5),o(),l(6,"div",4)(7,"app-button",5),s("clickButton",function(){return e.onCancel()}),o(),l(8,"app-button",6),s("clickButton",function(){return e.onConfirm()}),o()()),t&2&&(a(5),_(" Are you sure you want to delete the file \xAB",e.file().file.name,`\xBB?
`))},dependencies:[h],styles:[".modal-header[_ngcontent-%COMP%]{padding:1.5rem}.modal-header-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.modal-body[_ngcontent-%COMP%]{font-weight:400;font-size:1rem;line-height:1.75rem;padding:1.5rem;color:#3d3d3d}.modal-footer[_ngcontent-%COMP%]{padding:1.5rem}"],changeDetection:0})};var w=class n{_modalService=d(y);file=u.required();onDeleteFile(i){let t=this._modalService.open(P,{size:"md",centered:!0});t.componentInstance.file=I(i)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=c({type:n,selectors:[["app-table-row-item"]],inputs:{file:[1,"file"]},decls:15,vars:10,consts:[[1,"file"],["src","assets/images/icon_file_upload.svg","alt","File icon","width","16","height","16"],[1,"file-name"],[1,"file-description"],[1,"file-remove"],["type","button","aria-label","Remove file",1,"btn","btn-link",3,"click","keydown.enter"],["src","assets/images/icon_remove.svg","alt","Remove file icon","width","16","height","16"]],template:function(t,e){t&1&&(g(0,"article")(1,"div",0),x(2,"img",1),g(3,"span"),r(4),f()(),g(5,"div",2),r(6),f(),g(7,"div",3),r(8),f(),g(9,"div")(10,"span"),r(11),f()(),g(12,"div",4)(13,"button",5),z("click",function(){return e.onDeleteFile(e.file())})("keydown.enter",function(){return e.onDeleteFile(e.file())}),x(14,"img",6),f()()()),t&2&&(F("inValid",!e.file().isValid),a(4),_(" ",e.file().file.name," "),a(2),_(" ",e.file().name," "),a(2),M(e.file().description),a(),F("valid",e.file().isValid)("inValid",!e.file().isValid),a(2),_(" ",e.file().isValid?"Valid":"Invalid"," "))},styles:["article[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;height:3.5rem;color:#3d3d3d;border-bottom:1px solid #dee2e6}@media screen and (max-width: 768px){article[_ngcontent-%COMP%]{height:auto;flex-direction:column}}article[_ngcontent-%COMP%]:hover{background-color:#f8fbff}article.inValid[_ngcontent-%COMP%]{background-color:snow}article.inValid[_ngcontent-%COMP%]:hover{background-color:#f8fbff}article[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;padding:.5rem 1rem;overflow:hidden;max-width:100%;white-space:nowrap;text-overflow:ellipsis;display:inline}article[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .validation[_ngcontent-%COMP%], article[_ngcontent-%COMP%]   div.inValid[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], article[_ngcontent-%COMP%]   div.valid[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-weight:500;font-size:.875rem;border-radius:.25rem;padding:.24rem .5rem}article[_ngcontent-%COMP%]   div.valid[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#28a745}article[_ngcontent-%COMP%]   div.inValid[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#ce1b1b}article[_ngcontent-%COMP%]   div.file[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}article[_ngcontent-%COMP%]   div.file[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:13rem}article[_ngcontent-%COMP%]   div.file-remove[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}article[_ngcontent-%COMP%]   div.file-remove[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;padding:0}"],changeDetection:0})};var K=(n,i)=>i.id;function Q(n,i){if(n&1&&(l(0,"span"),r(1),o()),n&2){let t=i.$implicit;a(),M(t)}}function X(n,i){if(n&1&&v(0,"app-table-row-item",2),n&2){let t=i.$implicit;m("file",t)}}var S=class n{_fileStore=d(b);files=u.required();paginationSignal=this._fileStore.pagination;headers=["File","Name","Description","Status",""];paginatedFilesSignal=q(()=>{let{page:i,pageSize:t}=this.paginationSignal();return this.files().map(e=>k({},e)).slice((i-1)*t,(i-1)*t+t)});onPaginationChange(i){this._fileStore.updatePagination({page:i})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=c({type:n,selectors:[["app-table-row"]],inputs:{files:[1,"files"]},decls:9,vars:3,consts:[[1,"header-container"],[1,"list-container"],[3,"file"],[3,"pageChange","collectionSize","page","pageSize"]],template:function(t,e){t&1&&(l(0,"section")(1,"main")(2,"div",0),O(3,Q,2,1,"span",null,B),o(),l(5,"div",1),O(6,X,1,1,"app-table-row-item",2,K),o()(),l(8,"ngb-pagination",3),W("pageChange",function(C){return A(e.paginationSignal().page,C)||(e.paginationSignal().page=C),C}),s("pageChange",function(C){return e.onPaginationChange(C)}),o()()),t&2&&(a(3),D(e.headers),a(3),D(e.paginatedFilesSignal()),a(2),m("collectionSize",e.files().length),j("page",e.paginationSignal().page),m("pageSize",e.paginationSignal().pageSize))},dependencies:[G,w],styles:["section[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between}section[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{display:flex;border-top:1px solid #dee2e6;border-bottom:1px solid #dee2e6}@media screen and (max-width: 768px){section[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{display:none}}section[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;background-color:#f8f8f8;font-weight:800;padding:.5rem 1rem;height:3.5rem}"],changeDetection:0})};function Y(n,i){if(n&1&&v(0,"app-table-row",1),n&2){let t=U();m("files",t.filesSignal())}}function Z(n,i){n&1&&(l(0,"ngb-alert",2)(1,"strong"),r(2,"Warning!"),o(),r(3," No files uploaded yet. "),o()),n&2&&m("dismissible",!1)}var J=class n{_modalService=d(y);_fileStore=d(b);filesSignal=this._fileStore.filesUploaded;onUploadFile(){this._modalService.open(H,{size:"md",centered:!0})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=c({type:n,selectors:[["app-files"]],decls:7,vars:3,consts:[["variant","primary","label","Upload file",3,"clickButton"],[3,"files"],[3,"dismissible"]],template:function(t,e){t&1&&(l(0,"section")(1,"article")(2,"h1"),r(3),o(),l(4,"app-button",0),s("clickButton",function(){return e.onUploadFile()}),o()(),N(5,Y,1,1,"app-table-row",1)(6,Z,4,1,"ngb-alert",2),o()),t&2&&(a(3),V(" ",e.filesSignal().length," file",e.filesSignal().length===1?"":"s"," "),a(2),R(e.filesSignal().length?5:6))},dependencies:[S,h,L],styles:["section[_ngcontent-%COMP%]{padding:1.5rem;gap:1.5rem;display:flex;flex-direction:column;height:100%}section[_ngcontent-%COMP%]   app-table-row[_ngcontent-%COMP%]{height:100%}section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:600;margin:0;font-size:1.25rem}section[_ngcontent-%COMP%]   ngb-alert[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0})};export{J as Files};
